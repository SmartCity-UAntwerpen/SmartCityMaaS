<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <title>Delivery</title>
    <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Open+Sans:600'/>
    <link rel="stylesheet" href="/css/style.css"/>
    <script src="http://cdn.jsdelivr.net/webjars/jquery/2.1.4/jquery.min.js"
            th:src="@{/webjars/jquery/2.1.4/jquery.min.js}" type="text/javascript"></script>
    <script  th:inline="javascript" type="text/javascript" th:src="@{/js/map.js}"></script>
</head>

<body onload="initFunction()" style="margin:0;">
<div id="loader"></div>
<div class="login-wrap">
    <div class="login-html">
        <div class="login-form">
            <div class="group">
                <form action="#" th:action="@{/deliveries/{id}(id=${delivery})}" th:object="${delivery}"  method="post">
                    <input th:type="hidden" th:field="*{id}"/>


                    <h1 th:inline="text" >
                        [[${currentUser.userName}]]
                        <small th:text="${currentUser.firstName}">Subtitle</small>
                        <small th:text="${currentUser.lastName}">Subtitle</small>
                    </h1>


                    <div class="form-group" th:classappend="${#fields.hasErrors('userName')}?'has-error': ''">
                        <span class="control-label" th:if="${#fields.hasErrors('userName')}" th:errors="*{userName}">userName Error</span>
                        <input class="form-control" id = "userName" th:type="hidden" th:field="*{userName}"/>
                        <script th:inline="javascript">
                            /*<![CDATA[*/
                            document.getElementById("userName").value = [[${currentUser.userName}]];
                            /*]]>*/
                        </script>
                    </div>

                    <div class="form-group" th:classappend="${#fields.hasErrors('lastName')}?'has-error': ''">
                        <span class="control-label" th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}">Lastname Error</span>
                        <input class="form-control" id = "lastName" th:type="hidden" th:field="*{lastName}"/>
                        <script th:inline="javascript">
                            /*<![CDATA[*/
                            document.getElementById("lastName").value = [[${currentUser.lastName}]];
                            /*]]>*/
                        </script>
                    </div>

                    <div class="form-group" th:classappend="${#fields.hasErrors('firstName')}?'has-error': ''">
                        <span class="control-label" th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}">firstName Error</span>
                        <input class="form-control" id = "firtName" th:type="hidden" th:field="*{firstName}"/>
                        <script th:inline="javascript">
                            /*<![CDATA[*/
                            document.getElementById("firtName").value = [[${currentUser.firstName}]];
                            /*]]>*/
                        </script>
                    </div>

                    <div>
                        <input class="form-control" th:type="hidden" id="inputA" type="text" th:field="*{pointA}" />
                    </div>

                    <div>
                        <input class="form-control" th:type="hidden" id="inputB" type="text" th:field="*{pointB}" />
                    </div>

                    <div>
                        <label id="passengersLabel" th:text="#{passengers}">Passengers</label>
                        <select id="passengersSelect" th:field="*{passengers}">
                            <option th:each="passenger : ${allPassengers}"
                                    th:value="${passenger}"
                                    th:text="${passenger}">Wireframe</option>
                        </select>
                    </div>

                    <script th:inline="javascript">
                        /*<![CDATA[*/
                        var cellImageBackGround = /*[[@{/images/map/test_lol.png}]]*/;

                        var cellImageRoad = /*[[@{/images/map/road.png}]]*/;
                        var pointAImage = /*[[@{/images/map/pointA.png}]]*/;
                        var pointBImage = /*[[@{/images/map/pointB.png}]]*/;
                        var spotImage = /*[[@{/images/map/spot.png}]]*/;

                        var surroundImage = /*[[@{/images/map/surrounding.png}]]*/;

                        var pointA =  /*[[*{pointA}]]*/

                        var cellImageSpotDrone = /*[[@{/images/map/road_drone.png}]]*/;
                        var cellImageRoadDrone = /*[[@{/images/map/spot_drone.png}]]*/;
                        var cellImageDrone = /*[[@{/images/map/drone.png}]]*/;

                        var cellImageSpotCar = /*[[@{/images/map/spot_car.png}]]*/;
                        // The user can also interact with the map
                        var only_view = false;

                        /*]]>*/
                    </script>


                    <p>
                        <a id="closeButton" href="/deliveries" th:text="#{close}" class="button" >Close</a>
                    </p>
                    <p>
                        <button id="saveDelivery" type="submit" th:text="#{save}" class="button">Save</button>
                    </p>
                </form>
            </div>
        </div>
    </div>
</div>
<div class="content" id="content" ><!--style="width:100%">-->
    <div id="myDiv">   <!-- style="width:100%"> -->
        <!-- Quentin wereld
        <div id="myMapCanvas" width="1500" height="1500">
            <canvas id="mapCanvas" width="1500" height="1500" style="border:1px solid #000000"></canvas>
        </div>
        -->
        <div id="myMapCanvas" width="900" height="900" >
            <canvas id="mapCanvas" width="900" height="900" style="border:1px solid #000000"></canvas>
        </div>
    </div>
</div>


</body>
</html>
